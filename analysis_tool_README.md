# Puerto Rico Property Analysis Tools

A collection of tools for analyzing property data from the Puerto Rico Catastro database, designed to work with the PR Property Search Tool.

## Overview

These analysis tools help you extract insights from property data collected using the PR Property Search Tool. The toolkit includes:

1. **Property Analysis CLI Tool** - Command-line tool for generating statistical reports and visualizations
2. **Property Data Dashboard** - Interactive web-based dashboard for exploring property data
3. **Property Analysis Python Library** - Reusable Python functions for custom analysis workflows

## Prerequisites

- Python 3.8 or higher
- Required Python packages:
  ```
  pandas
  matplotlib
  seaborn
  numpy
  ```

## Installation

1. Install the required Python packages:
   ```
   pip install pandas matplotlib seaborn numpy
   ```

2. Copy the analysis tools to your project directory where you have the PR Property Search Tool installed.

## Usage

### Command-line Analysis Tool

The `analyze_results.py` script processes a CSV file generated by the Property Search Tool and creates visualizations and summary statistics.

```bash
python analyze_results.py results.csv --output-dir ./analysis_output
```

#### Parameters:
- `csv_file`: Path to the results CSV file from the Property Search Tool
- `--output-dir`, `-o`: Directory to save analysis outputs (optional)

### Property Data Dashboard

The dashboard provides an interactive visualization of property data.

1. Start a local web server (if you have Python installed):
   ```bash
   python -m http.server
   ```

2. Open `dashboard.html` in your web browser.

3. Upload your `results.csv` file to view the interactive dashboard.

### Example Workflow

1. Search for properties using the PR Property Search Tool:
   ```bash
   python property_search_tool.py radius --lat 18.445550 --lon -66.064836 --radius 1.5 --output results.csv
   ```

2. Analyze the results:
   ```bash
   python analyze_results.py results.csv --output-dir ./analysis_output
   ```

3. View the generated reports and visualizations in the `./analysis_output` directory.

## Analysis Features

The analysis tools provide several key insights:

### 1. Price Trend Analysis
- Historical price trends with average and median prices
- Sales volume by year
- Price range distribution

### 2. Property Value Analysis
- Assessment vs. sale price comparisons
- Land vs. structure value analysis
- Property type value distribution

### 3. Spatial Analysis
- Geographic clustering of properties
- Price distribution by location
- Distance-based price analysis

### 4. Summary Statistics
- Transaction counts
- Price averages and medians
- Property type distribution
- Data completeness metrics

## Example Output Files

The analysis tools generate the following output files:

- `summary_statistics.txt` - Key metrics and statistics
- `sales_over_time.png` - Chart showing price trends by year
- `price_distribution.png` - Histogram of property prices
- `spatial_distribution.png` - Map-like visualization of property locations
- `price_vs_distance.png` - Analysis of how prices change with distance
- `yearly_sales_data.csv` - Detailed yearly statistics in CSV format
- `property_type_stats.csv` - Statistics broken down by property type
- `price_range_distribution.csv` - Count of properties in different price brackets

## Extending the Tools

The Python functions in `property_analyzer.py` can be imported and used in your own Python scripts:

```python
from property_analyzer import load_property_data, analyze_price_trends

# Load data
df = load_property_data('results.csv')

# Custom analysis
high_value_props = df[df['SALESAMT'] > 200000]
print(f"Found {len(high_value_props)} high-value properties")

# Use built-in analysis functions
yearly_stats = analyze_price_trends(df, output_dir='./custom_analysis')
```

## License

[Same license as the PR Property Search Tool]

## Contributing

Contributions are welcome! Please feel free to submit a Pull Request.